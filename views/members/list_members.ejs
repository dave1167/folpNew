<!-- Wappler include head-page="layouts/lh_menu" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="list_members" appConnect="local" components="{dmxStateManagement:{},dmxBootstrap5TableGenerator:{},dmxDataTraversal:{}}" -->
<dmx-serverconnect id="scListMems" url="/api/member/listMems" dmx-param:dir="" dmx-param:sort=""></dmx-serverconnect>
<meta name="ac:route" content="/members/list_members">
<dmx-query-manager id="query1"></dmx-query-manager>
<div class="container">
    <div class="row">
        <div class="col"></div>
    </div>
    <div class="row">
        <div class="col">
            <div class="table-responsive">
                <table class="table table-striped table-bordered table-hover table-sm">
                    <thead>
                        <tr>
                            <th class="sorting" dmx-on:click="query1.set('sort','memNo'); query1.set('dir', query1.data.dir == 'desc' ? 'asc' : 'desc'); scListMems.load({sort: 'memNo', dir: query1.data.dir == 'desc' ? 'asc' : 'desc'})" dmx-class:sorting_asc="query1.data.sort=='memNo' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='memNo' && query1.data.dir == 'desc'">Mem no</th>
                            <th class="sorting" dmx-on:click="query1.set('sort','memDetsId'); query1.set('dir', query1.data.dir == 'desc' ? 'asc' : 'desc'); scListMems.load({sort: 'memDetsId', dir: query1.data.dir == 'desc' ? 'asc' : 'desc'})" dmx-class:sorting_asc="query1.data.sort=='memDetsId' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='memDetsId' && query1.data.dir == 'desc'">Mem dets</th>
                            <th class="sorting" dmx-on:click="query1.set('sort','fName'); query1.set('dir', query1.data.dir == 'desc' ? 'asc' : 'desc'); scListMems.load({sort: 'fName', dir: query1.data.dir == 'desc' ? 'asc' : 'desc'})" dmx-class:sorting_asc="query1.data.sort=='fName' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='fName' && query1.data.dir == 'desc'">F name</th>
                            <th class="sorting" dmx-on:click="query1.set('sort','lName'); query1.set('dir', query1.data.dir == 'desc' ? 'asc' : 'desc'); scListMems.load({sort: 'lName', dir: query1.data.dir == 'desc' ? 'asc' : 'desc'})" dmx-class:sorting_asc="query1.data.sort=='lName' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='lName' && query1.data.dir == 'desc'">L name</th>
                            <th class="sorting" dmx-on:click="query1.set('sort','dateJoined'); query1.set('dir', query1.data.dir == 'desc' ? 'asc' : 'desc'); scListMems.load({sort: 'dateJoined', dir: query1.data.dir == 'desc' ? 'asc' : 'desc'})" dmx-class:sorting_asc="query1.data.sort=='dateJoined' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='dateJoined' && query1.data.dir == 'desc'">Date joined</th>
                            <th class="sorting" dmx-on:click="query1.set('sort','lastPaidDte'); query1.set('dir', query1.data.dir == 'desc' ? 'asc' : 'desc'); scListMems.load({sort: 'lastPaidDte', dir: query1.data.dir == 'desc' ? 'asc' : 'desc'})" dmx-class:sorting_asc="query1.data.sort=='lastPaidDte' && query1.data.dir == 'asc'" dmx-class:sorting_desc="query1.data.sort=='lastPaidDte' && query1.data.dir == 'desc'">Last paid dte</th>
                        </tr>
                    </thead>
                    <tbody is="dmx-repeat" dmx-generator="bs5table" dmx-bind:repeat="scListMems.data.qryListMems" id="tableRepeat2" dmx-state="query1" dmx-sort="sort" dmx-order="dir">
                        <tr>
                            <td dmx-text="memNo"></td>
                            <td dmx-text="memDetsId"></td>
                            <td dmx-text="fName"></td>
                            <td dmx-text="lName"></td>
                            <td dmx-text="dateJoined"></td>
                            <td dmx-text="lastPaidDte"></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>